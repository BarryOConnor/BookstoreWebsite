

<!DOCTYPE html>
<html lang="en" class="text-100">
<head>
  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="utf-8">

    <!-- ############################# INFORMATION #############################

### VALIDATION ###
This page and corresponding CSS have been checked on the W3c HTML5 and CSS3 
validator and have passed I chose not to include the badge purely for stylistic 
reasons.

### ACKNOWLEDGEMENTS ###

- This site uses fontawesome (https://fontawesome.com) for icons
- This page uses XML code and the getXMLContent function which are adapted from the XPath tutorials 
  available on W3CSchools at https://www.w3schools.com/xml/xpath_examples.asp
*/

     ####################################################################### -->

    <title>Barry's Bargain Books :: Home</title>
    <meta name="description" content="Barry's Bargain Books: Discover your next favourite book from our list of fantastic books to read!">
    <meta name="keywords" content="books, buy books, books online, paperback books, favourite book, reading, discounted, cheap">
    <meta name="author" content="Barry O'Connor">
  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="css/boc.css">
    <link rel="stylesheet" href="css/fontawesome.css">
  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="icon" type="image/png" href="images/favicon.png" />

</head>
<body>
    <!-- screenreader / keyboard link displayed offscreen to allow skipping the menu and accessing main content -->
    <a class="skip-main" href="#main">Skip to main content</a>

    <!-- cookie bar to allow for GDPR compliance -->
    <div id="cookiebar"><p>This website uses cookies</p>
        <button type="button" onclick="viewCookieInfo();" onkeypress="viewCookieInfo();">Read More</button>
        <button type="button" onclick="acceptCookies();" onkeypress="acceptCookies();">Accept Cookies</button>
    </div>

    <!-- main header for the site -->
    <header class="boc-lblue-bg">
        <div class="boc-grid-container boc-header-cols">
            <div>
                <!-- Logo with link to home page -->
                <a href="index.html" title="retrun to the home page"><img src="images/logo.png" alt="Logo for Barry's Bargain Books" /></a>
            </div>
            <div>
                <!-- Text size functionality to allow visually impaired users to increase text size up to 200% -->
                <a href="#" class="text-100" onclick="changeFontSize(100);" onkeypress="changeFontSize(100);" title="set page text size to 100%">A</a>
                <a href="#" class="text-150" onclick="changeFontSize(150);" onkeypress="changeFontSize(150);" title="set page text size to 150%">A</a>
                <a href="#" class="text-200" onclick="changeFontSize(200);" onkeypress="changeFontSize(200);" title="set page text size to 200%">A</a>
                
                <!-- search form -->
                <form id="search-form" action="search.html">
                    <input type="search" id="search-field" placeholder="Search.." name="search">
                    <button type="submit"><i class="fa fa-search"></i></button>
                    <span id="search-field-msg"></span>
                </form>
            </div>
            <div id="header-buttons">
                <!-- Buttons to access Shopping Basket and Account -->
                <button type="button" onclick="openAccount();" onkeypress="openAccount();"><i class="fas fa-user"></i>Account</button>
                <button type="button" onclick="openBasket();" onkeypress="openBasket();"><i class="fas fa-shopping-cart"></i>Basket</button>
            </div>  
        </div>
    </header>



    <nav id="main-menu" class="boc-black-bg">
        <!-- menu on tablets and screens -->
        <ul class="boc-grid-container boc-hide-mobile">
            <li class="active"><a href="index.html"><span><i class="fas fa-home" aria-hidden="true"></i>Home</span></a></li>
            <li><a href="coming-soon.html"><span><i class="far fa-book" aria-hidden="true"></i>Coming Soon</span></a></li>
            <li><a href="genres.html"><span><i class="fas fa-book-reader" aria-hidden="true"></i>Genres</span></a></li>
            <li><a href="authors.html"><span><i class="far fa-id-badge" aria-hidden="true"></i>Authors</span></a></li>
            <li><a href="special-offers.html"><span><i class="fas fa-tags" aria-hidden="true"></i>Special Offers</span></a></li>
            <li><a href="report.html"><span><i class="far fa-file-code" aria-hidden="true"></i>Report</span></a></li>
        </ul>

        <!-- menu for mobiles -->
        <a class="boc-menu-button boc-show-inline-mobile" href="javascript:void(0);" onclick="toggleMenu()" onkeypress="toggleMenu()" title="Toggle Navigation Menu"><span class="fa fa-bars"></span></a>
        <a class="boc-account boc-show-inline-mobile" href="basket.html"><i class="fas fa-shopping-cart"></i>Basket</a>
        <a class="boc-account boc-show-inline-mobile" href="account.html""><i class="fas fa-user"></i>Account</a>
        <ul id="dropdown-nav" class="boc-black-bg boc-grid-container boc-hide">
            <li class="active"><a href="index.html"><span><i class="fas fa-home" aria-hidden="true"></i>Home</span></a></li>
            <li><a href="coming-soon.html"><span><i class="far fa-book" aria-hidden="true"></i>Coming Soon</span></a></li>
            <li><a href="genres.html"><span><i class="fas fa-book-reader" aria-hidden="true"></i>Genres</span></a></li>
            <li><a href="authors.html"><span><i class="far fa-id-badge" aria-hidden="true"></i>Authors</span></a></li>
            <li><a href="special-offers.html"><span><i class="fas fa-tags" aria-hidden="true"></i>Special Offers</span></a></li>
            <li><a href="report.html"><span><i class="far fa-file-code" aria-hidden="true"></i>Report</span></a></li>
        </ul>
    </nav>




    <div id="carousel" class="boc-grey-bg">
        <div class="boc-lgrey-bg boc-max-container">
            <ul id="slideholder">
                <li class="slide initial" data-href="product.html?name=Mary-Berrys-Quick-Cooking">
                    <img src="images/carousel/christmas.jpg" alt="Mary Berry's Quick Cooking - the perfect gift this Christmas" class="boc-hide-mobile" />
                    <img src="images/carousel/christmas-small.jpg" alt="Mary Berry's Quick Cooking - the perfect gift this Christmas" class="boc-show-mobile" />
                    <div class="caption">Mary Berry Quick Cooking - Perfect for a Christmas Gift!</div>
                </li>
                <li class="slide" data-href="product.html?name=IT">
                    <img src="images/carousel/it.jpg" alt="Stephen King's IT - a great read for horror fans" class="boc-hide-mobile" />
                    <img src="images/carousel/it-small.jpg" alt="Stephen King's IT - a great read for horror fans" class="boc-show-mobile" />
                    <div class="caption">Horror fans will love IT by Stephen King!</div>
                </li>
                <li class="slide" data-href="product.html?name=Belgariad-1-Pawn-of-Prophecy">
                    <img src="images/carousel/book-of-the-week.jpg" alt="David Eddings' Pawn of Prophecy - our book of the week" class="boc-hide-mobile" />
                    <img src="images/carousel/book-of-the-week-small.jpg" alt="David Eddings' Pawn of Prophecy - our book of the week" class="boc-show-mobile" />
                    <div class="caption">Pawn of Prophecy is our Book of the Week!</div>
                </li>
            </ul>
            <div id="carousel-dots" class="boc-grid-container">
                <button id="play-pause" type="button" title="play or pause the slideshow" tabindex="17"><span class="fas fa-pause"></span></button>
                <a href="javascript:gotoSlide(0,true)" onkeypress="javascript:gotoSlide(0,true)" class="dot active" title="go to the first slide" tabindex="18"></a> 
                <a href="javascript:gotoSlide(1,true)" class="dot" title="go to the second slide" tabindex="18"></a>
                <a href="javascript:gotoSlide(2,true)" class="dot" title="go to the third slide" tabindex="18"></a>
            </div>
            <!-- Next and previous buttons -->
            <a href="javascript:gotoSlide(-1,false)" class="prev" title="go to the previous slide" tabindex="15"><i class="fas fa-chevron-circle-left"></i></a>
            <a href="javascript:gotoSlide(1,false)" class="next" title="go to the next slide" tabindex="16"><i class="fas fa-chevron-circle-right"></i></a>
        </div>
                
    </div>




    <main id="main">
        <section class="boc-white-bg">
            <h1 class="boc-mblue-bg boc-pad-1 boc-center">Special Offers</h1>
            <div id="specials" class="boc-grid-container boc-grid-gap boc-pad-2"></div>
        </section>
        <section class="boc-dblue-bg">
            <div class="boc-grid-container">
                <h3>About Us</h3>
                <p>We love books! Ever since opening the shop, we have strived to fulfill one single aim: to help each and every customer find their new favourite book. That's a huge claim but we feel that if the process is simple enough and you are given advice when you need it, this will help in making sure you love the books you buy.</p>
                <p>Established in 2000, we have sold millions of books, from worldwide bestsellers to local interest history books. We operate online and in your local highstreet where our friendly staff will be more than happy to have a friendly chat about what type of book you like and suggest books you may like. Every one of our staff love books as much as you do, we encourage them to read new books so that they can pass on their own personal experience directly to you.</p>
            </div>
        </section>

    </main>
    
    <footer class="boc-black-bg">
        
        <!-- Bottom bar navigation -->
        <nav class="boc-grid-container boc-3-cols">
            <div>
                <h4>Contact Us</h4>
                <ul>
                    <li><a href="contact-us.html">Contact Us</a></li>
                    <li><a href="privacy-policy.html">Privacy Policy</a></li>
                    <li><a href="terms-and-conditions.html">Terms & Conditions</a></li>
                </ul>     
            </div>
            <div>
                <h4>Customer Service</h4>
                <ul>
                    <li><a href="returns.html">Returns</a></li>
                    <li><a href="delivery.html">Delivery</a></li>
                    <li><a href="complaints.html">Complaints</a></li>
                </ul>
            </div>
            <div>
                <h4>Account</h4>
                <ul>
                    <li><a href="account.html">My Account</a></li>
                    <li><a href="order-history.html">Order History</a></li>
                    <li><a href="wishlist.html">Wishlist</a></li>
                </ul>  
            </div>
        </nav>
    

        <div class="boc-white-bg boc-center">
            <!-- Footer bar with copyright -->
            Copyright &copy; 2020 Barry's Bargain Books
        </div>

    </footer>
<script type="text/javascript" src="javascript/sitewide.js"></script>
<script type="text/javascript">
/* ----------------------------------------
               XML manipulation code
---------------------------------------- */

/* accreditation
following code snippet and the getXMLContent function are adapted from the XPath tutorials 
available on W3CSchools at https://www.w3schools.com/xml/xpath_examples.asp
*/
var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        showProducts(xhttp.responseXML, "/bookstore/book[@special='true' and @homepage='true']", "/bookstore/book[@special='true' and @homepage='true']/descendant-or-self::*[self::title | self::urltitle | self::artwork | self::price | self::score[parent::rating] | self::amount[parent::rating] | self::short[parent::description]]", true);
    }
};
xhttp.open("GET", "books.xml", true);
xhttp.send(); 

/* ----------------------------------------
               Carousel Code
---------------------------------------- 
Set up variables needed for the carousel
*/
var slideholder = document.getElementById("slideholder");
var slides = document.getElementsByClassName("slide");
var dots = document.getElementsByClassName("dot");
var pauseButton = document.getElementById('play-pause');
var currentIndex = 0, oldIndex = 0;
var playing = true;
var pauselength = 5000;
var slideInterval = setInterval(nextSlide, pauselength);

//function which selects the next item in the carousel and displays it
function nextSlide(){
    if (currentIndex + 1 > slides.length -1 ) { currentIndex = 0; oldIndex = slides.length -1; } else { oldIndex = currentIndex; currentIndex ++; };
    slides[oldIndex].className = "slide inactive";
    slides[currentIndex].className = "slide active"; 
    dots[oldIndex].className = "dot";
    dots[currentIndex].className = "dot active";
    setTimeout(function () { slides[oldIndex].className = "slide"; }, 2500);  
}

//function which handles the dots and next/prev buttons on the carousel
function gotoSlide(slideNo,dotPressed) {
    //stop the autoplay function while we change slide, otherwise the next slide won't have the full delay
    clearInterval(slideInterval);
    oldIndex = currentIndex;
    if(dotPressed){
        //go to the slide represented by the clicked dot
        if (slideNo > slides.length - 1) { currentIndex = 0 } else { currentIndex = slideNo };
    } else {
        if (slideNo == 1){
            //next button clicked
            if (currentIndex + 1 > slides.length - 1) { currentIndex = 0 } else { currentIndex ++};
        } else {
            //prev button clicked
            if (currentIndex + slideNo < 0) { currentIndex = (slides.length) + slideNo } else { currentIndex += slideNo};
        }
    }
    slides[oldIndex].className = "slide inactive";
    slides[currentIndex].className = "slide active"; 
    dots[oldIndex].className = "dot";
    dots[currentIndex].className = "dot active";
    setTimeout(function () { slides[oldIndex].className = "slide"; }, 2500);
    slideInterval = setInterval(nextSlide, pauselength);
}

//function to change the play/pause function and allow users to stop the carousel - required for accessibility as it can irritate people with some conditions
pauseButton.onclick = function(){
    if(playing){ 
        pauseButton.innerHTML = '<span class="fas fa-play">';
        playing = false;
        clearInterval(slideInterval);
    }
    else{ 
        pauseButton.innerHTML = '<span class="fas fa-pause">';
        playing = true;
        slideInterval = slideInterval = setInterval(nextSlide, pauselength);
    }
};


slideholder.addEventListener('click', function (e) {
    var target = e.target; // Clicked element
    while (target && target.parentNode !== slideholder) {
        target = target.parentNode; // If the clicked element isn't a direct child
        if(!target) { return; } // If element doesn't exist
    }
    if (target.tagName === 'LI'){
      document.location = target.getAttribute('data-href'); // Check if the element is a LI
    }
});

</script>
</body>
</html>